<!DOCTYPE html>
<html>
<head>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.10/angular.min.js"></script>
</head>
<body>

    <div ng-app="app" ng-controller="MainCtrl" class="list-group">
        <div class="list-group-item" ng-repeat="item in messages">
            <h4 class="list-group-item-heading">{{ item.question }}</h4>
            <p class="list-group-item-text">{{item.options}}</p >
        </div>
    </div>
    <script>
        var myApp = angular.module('app',[]);
        myApp.controller('MainCtrl', function ($scope, $http){
            $http.get('http://127.0.0.1:5000/').then(function(response){
                $scope.messages = response.data;
            },function (error){
                console.log(error, 'cannot get data.');
            });
        });
    </script>

    <form>
    <div>Answer to Q1: <input type="text" name="ans1" id="a"></div>
    <div>Answer to Q2: <input type="text" name="ans2" id="b"></div>
    <div><input id="submit" name="submit" type="submit" value="Submit"></div>
    </form>

    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script type="text/javascript" src="jquery.serializejson.js"></script>

    <script>
        $( "form" ).submit(function( event ) {
            var data = $( this ).serializeJSON() ;
            event.preventDefault();
            //sending data to server
            var xhr = new XMLHttpRequest();
            xhr.open("POST","http://127.0.0.1:5000/action", true);
            xhr.setRequestHeader('Content-Type', 'application/json; charset=UTF-8');
            var jsonString = JSON.stringify(data);
            xhr.send(jsonString);
            console.log(jsonString);
            var body = xhr.response
            console.log(body);
    });

    </script>

</body>
</html>